<!--
  ~ Copyright (c) 2016 Vital Images, Inc. All Rights Reserved.
  ~
  ~ This is UNPUBLISHED PROPRIETARY SOURCE CODE of Vital Images, Inc.;
  ~ the contents of this file may not be disclosed to third parties,
  ~ copied or duplicated in any form, in whole or in part, without the
  ~ prior written permission of Vital Images, Inc.
  ~
  ~ RESTRICTED RIGHTS LEGEND:
  ~ Use, duplication or disclosure by the Government is subject to
  ~ restrictions as set forth in subdivision (c)(1)(ii) of the Rights
  ~ in Technical Data and Computer Software clause at DFARS 252.227-7013,
  ~ and/or in similar or successor clauses in the FAR, DOD or NASA FAR
  ~ Supplement. Unpublished rights reserved under the Copyright Laws of
  ~ the United States.
  -->

<div class="row utilization-menu-standard" ng-controller="UtilizationMenuController as utCtrl">
    <div class="col-xs-7" style="margin-left: 20px;">
        <div class="row" style="height: 40px">
            <div class="col-xs-1 date-width">
                <div class="row" style="height: 12px">
                    <span class="date-label">FROM</span>
                </div>
                <div class="row" style="height: 22px">
                    <div id = "startDateSection" class="date-selection-field thin-gray-border" ng-class="{'thin-red-border': utCtrl.isStartDateInvalid()}">
                        <input id="startDate" type="text" placeholder="mm/dd/yyyy" size="7" ng-model="utCtrl.startDate" ng-change="utCtrl.startDateChanged()"
                               uib-datepicker-popup="MM/dd/yyyy" is-open="utCtrl.isStartDatePickerOpen"
                               datepicker-append-to-body="true" datepicker-options="utCtrl.startDateOptions" show-button-bar="false" />
                        <button class="reset-button" type="button" ng-click="utCtrl.openStartDatePicker()" style="padding-right: 5px;"><i class="fa fa-calendar"></i></button>
                    </div>
                </div>
            </div>
            <div class="col-xs-1 date-width">
                <div class="row" style="height: 12px">
                    <span class="date-label">TO</span>
                </div>
                <div class="row" style="height: 22px">
                    <div id = "endDateSection" class="date-selection-field thin-gray-border" ng-class="{'thin-red-border': utCtrl.isEndDateInvalid()}">
                        <input id="endDate" type="text" placeholder="mm/dd/yyyy" size="7" ng-model="utCtrl.endDate" ng-change="utCtrl.endDateChanged()"
                               uib-datepicker-popup="MM/dd/yyyy" is-open="utCtrl.isEndDatePickerOpen"
                               datepicker-append-to-body="true" datepicker-options="utCtrl.endDateOptions" show-button-bar="false" />
                        <button class="reset-button" type="button" ng-click="utCtrl.openEndDatePicker()" style="padding-right: 5px;"><i class="fa fa-calendar"></i></button>
                    </div>
                </div>
            </div>
            <div class="col-xs-2 all-environments">
                <div class="row" style="height: 14px"></div>
                <div id = "environmentDropDown" class="multiselect-parent btn-group dropdown-multiselect" click-outside="utCtrl.closeEnvironmentDropdown()">
                    <button type="button" class="dropdown-toggle"  ng-click="utCtrl.toggleEnvironmentDropdown()">
                        {{utCtrl.getEnvironmentButtonText()}}&nbsp;<span class="caret"></span></button>
                    <div id = "environmentDropDownDiv">
                        <ul class="dropdown-menu dropdown-menu-form" ng-class = "utCtrl.scrollEnvironments" ng-style="{display: utCtrl.openAllEnvironments ? 'block' : 'none'}" >
                            <li>
                                <label><input type="checkbox" ng-model="utCtrl.selectedAllEnvironments" ng-click="utCtrl.checkAllEnvironments(false)" />
                                    Select All
                                </label>
                            </li>
                            <li ng-repeat="option in utCtrl.allEnvironmentOptions">
                                <label><input type="checkbox" ng-model="option.Selected" ng-click="utCtrl.setSelectedEnvironment(option.label,false)" />
                                    {{option.label}}
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-xs-2 all-applications">
                <div class="row" style="height: 14px"></div>
                <div id= "applicationDropDown" class="multiselect-parent btn-group dropdown-multiselect" click-outside="utCtrl.closeApplicationDropdown()">
                    <button type="button" class="dropdown-toggle"  ng-click="utCtrl.toggleApplicationDropdown()">{{utCtrl.getApplicationButtonText()}}&nbsp;<span class="caret"></span></button>
                    <div>
                        <ul class="dropdown-menu dropdown-menu-form" ng-class = "utCtrl.scrollApplications" ng-style="{display: utCtrl.openAllApplications ? 'block' : 'none'}" >
                            <li>
                                <label><input type="checkbox" ng-model="utCtrl.selectedAllApplications" ng-click="utCtrl.checkAllApplications(false)" />
                                    Select All
                                </label>
                            </li>
                            <li ng-repeat="option in utCtrl.allApplicationOptions">
                                <label><input type="checkbox" ng-model="option.Selected" ng-click="utCtrl.setSelectedApplication(option.label,false)"/>
                                    {{option.label}}
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-xs-1 all-users">
                <div class="row" style="height: 14px"></div>
                <div id= "userDropDown" class="multiselect-parent btn-group dropdown-multiselect" click-outside="utCtrl.closeUserDropdown()">
                    <button type="button" class="dropdown-toggle"  ng-click="utCtrl.toggleUserDropdown()">{{utCtrl.getUserButtonText()}}&nbsp;<span class="caret"></span></button>
                    <div>
                        <ul class="dropdown-menu dropdown-menu-form" ng-class = "utCtrl.scrollUsers" ng-style="{display: utCtrl.openAllUsers ? 'block' : 'none'}" >
                            <li>
                                <label><input type="checkbox" ng-model="utCtrl.selectedAllUsers" ng-click="utCtrl.checkAllUsers(false)" />
                                    Select All
                                </label>
                            </li>
                            <li ng-repeat="option in utCtrl.allUserOptions">
                                <label><input type="checkbox" ng-model="option.Selected" ng-click="utCtrl.setSelectedUser(option.label,false)"/>
                                    {{option.label}}
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-xs-1" ></div>
            <div class="col-xs-1 clear-button" ng-click="utCtrl.clearFilter()"><a>Clear</a></div>
            <div class="col-xs-1" ></div>
        </div>
        <div class="row" style="height: 20px;">
                <span class="alert-msg" ng-show="utCtrl.isDateInvalid()">
                    {{utCtrl.alerts.invalidDateMsg}}
                </span>
        </div>
    </div>
    <div class="col-xs-1 text-right refresh-section" >
        <div class="row">Date Last Refreshed</div>
        <div class="row">{{utCtrl.lastRefreshedDate}}</div>
    </div>
</div>
